

  * [ 前言 ](../../)
  * 物联网平台操作 
    * [ 前言 ](../../物联网平台/)
    * 快速开始 
      * [ introduction ](../../物联网平台/quick-start/introduction.html)
      * [ demo ](../../物联网平台/quick-start/demo.html)
    * 开发指南 
      * [ assets ](../../物联网平台/dev-guide/assets.html)
      * [ commons-api ](../../物联网平台/dev-guide/commons-api.html)
      * [ crud ](../../物联网平台/dev-guide/crud.html)
      * [ custom-sql-term ](../../物联网平台/dev-guide/custom-sql-term.html)
      * [ dashboard ](../../物联网平台/dev-guide/dashboard.html)
      * [ device-firmware ](../../物联网平台/dev-guide/device-firmware.html)
      * [ mqtt-subs ](../../物联网平台/dev-guide/mqtt-subs.html)
      * [ multi-tenant ](../../物联网平台/dev-guide/multi-tenant.html)
      * [ websocket-subs ](../../物联网平台/dev-guide/websocket-subs.html)
    * 最佳实践 
      * [ auto-register ](../../物联网平台/best-practices/auto-register.html)
      * [ coap-connection ](../../物联网平台/best-practices/coap-connection.html)
      * [ device-alarm ](../../物联网平台/best-practices/device-alarm.html)
      * [ device-connection ](../../物联网平台/best-practices/device-connection.html)
      * [ device-gateway-connection ](../../物联网平台/best-practices/device-gateway-connection.html)
      * [ http-connection ](../../物联网平台/best-practices/http-connection.html)
      * [ jetlinks对接其他云平台教程-HTTP方式 ](../../物联网平台/best-practices/jetlinks对接其他云平台教程-HTTP方式.html)
      * [ open-api ](../../物联网平台/best-practices/open-api.html)
      * [ sort-link ](../../物联网平台/best-practices/sort-link.html)
      * [ start ](../../物联网平台/best-practices/start.html)
      * [ tcp-connection ](../../物联网平台/best-practices/tcp-connection.html)
      * [ udp-connection ](../../物联网平台/best-practices/udp-connection.html)
    * 使用手册 
      * [ DemoDevice ](../../物联网平台/basics-guide/DemoDevice.html)
      * [ device-manager ](../../物联网平台/basics-guide/device-manager.html)
      * [ protocol-support ](../../物联网平台/basics-guide/protocol-support.html)
      * [ quick-start ](../../物联网平台/basics-guide/quick-start.html)
      * [ rule-engine ](../../物联网平台/basics-guide/rule-engine.html)
      * [ ziduanquanxian ](../../物联网平台/basics-guide/ziduanquanxian.html)
  * 萌蜂项目规范 
    * [ 前言 ](../)
    * 一、开发项 
      * [ 快速开始 ](idea-start.html)
      * [ 环境维护 ](环境维护.html)
      * [ 代码管理 ](代码管理.html)
      * [ 后端开发 ](后端开发.html)
      * [ 前端开发 ](前端开发.html)
      * [ 工程专项 ](工程专项.html)
      * [ 其他规约 ](其他规约.html)
      * [ 流程管理 ](流程管理.html)
    * 二、知识点 
      * [ 安装 Centos7 ](../知识点/install-centos7.html)
      * [ Centos 创建用户 ](../知识点/centos-create-user.html)
      * [ Centos 安装桌面环境 ](../知识点/centos-install-gnome.html)
      * [ Centos 安装KVM ](../知识点/centos-install-kvm.html)
      * [ Centos 安装VNC ](../知识点/centos-install-vnc.html)
      * [ Centos 安装Pip ](../知识点/centos-install-pip.html)
      * [ Docker Compose ](../知识点/docker-compose.html)
      * [ FFmpeg ](../知识点/ffmpeg.html)
      * [ Nginx 代理 ](../知识点/nginx-prefix.html)
      * [ Nginx Rtmp ](../知识点/nginx-rtmp.html)
      * [ Nohup ](../知识点/nohup.html)
      * [ NodeJs ](../知识点/nodejs-upgrade.html)
      * [ Http Code ](../知识点/http-code.html)
      * [ String.format() ](../知识点/string-format.html)
  * JAVA开发规范 
    * [ 前言 ](../../JAVA开发规范/)
    * 一、编程规约 
      * [ （一）命名风格 ](../../JAVA开发规范/编程规约/命名风格.html)
      * [ （二）常量定义 ](../../JAVA开发规范/编程规约/常量定义.html)
      * [ （三）代码格式 ](../../JAVA开发规范/编程规约/代码格式.html)
      * [ （四）OOP规范 ](../../JAVA开发规范/编程规约/OOP规范.html)
      * [ （五）集合处理 ](../../JAVA开发规范/编程规约/集合处理.html)
      * [ （六）并发处理 ](../../JAVA开发规范/编程规约/并发处理.html)
      * [ （七）控制语句 ](../../JAVA开发规范/编程规约/控制语句.html)
      * [ （八）注释规约 ](../../JAVA开发规范/编程规约/注释规约.html)
    * 二、异常日志 
      * [ （一）异常处理 ](../../JAVA开发规范/异常日志/异常处理.html)
      * [ （二）日志规范 ](../../JAVA开发规范/异常日志/日志规约.html)
      * [ （三）其他 ](../../JAVA开发规范/异常日志/其他.html)
    * [ 三、单元测试 ](../../JAVA开发规范/单元测试.html)
    * [ 四、安全规约 ](../../JAVA开发规范/安全规约.html)
    * 五、MySQL数据库 
      * [ （一）建表规约 ](../../JAVA开发规范/MySQL数据库/建表规约.html)
      * [ （二）索引规约 ](../../JAVA开发规范/MySQL数据库/索引规约.html)
      * [ （三）SQL语句 ](../../JAVA开发规范/MySQL数据库/SQL语句.html)
      * [ （四）ORM映射 ](../../JAVA开发规范/MySQL数据库/ORM映射.html)
    * 六、工程结构 
      * [ （一）应用分层 ](../../JAVA开发规范/工程结构/应用分层.html)
      * [ （二）二方库依赖 ](../../JAVA开发规范/工程结构/二方库依赖.html)
      * [ （三）服务器 ](../../JAVA开发规范/工程结构/服务器.html)
    * [ 附：本手册专有名词 ](../../JAVA开发规范/本手册专有名词.html)
  * MIS系统操作手册 
    * [ MIS系统操作手册 ](../../用户操作手册/用户操作手册.html)
  * MIS系统环境临时记录 
    * [ MIS系统环境临时记录 ](../../MIS系统环境临时记录/组态和大屏连接地址配置.html)
  *   * [ Published with GitBook ](https://www.gitbook.com)

#  __[快速开始](../..)

### 公共服务安装

> **前 提：** 务必保证至少需要给docker分配：1核 CPU 以及 4G 以上的运行内存！

  * JDK : `Oracle JDK 1.8` 或者 `OpenJDK8`；
  * Maven : 推荐使用 `Maven 3.6` ，理论来说其他版本也行；
  * IDE : `IntelliJ IDEA` 或者 `Eclipse`；
  * Docker : 需要提供 `docker` 和 `docker-compose` 指令，至少需要给 `docker` 分配 `4G` 的运行内存，如果配置国内镜像加速，下载镜像速度会快一些。

#### 安装 Java

  * Java JDK 1.8 [Java SE Development Kit 8 Downloads](https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html)

#### 安装 Maven

  * Maven 3.6 [Installing Apache Maven](http://maven.apache.org/install.html)

#### 安装 Docker

> **开 发环境**: 推荐安装 Docker Desktop
>
>   * Mac : [Docker Desktop For
> Mac](https://download.docker.com/mac/edge/Docker.dmg)
>   * Windows : [Docker Desktop For
> Windows](https://download.docker.com/win/edge/Docker%20Desktop%20Installer.exe)
>

>
> **生 产环境**: 推荐在宿主机上安装 Docker 服务
>
>   * 推荐 Centos : [Install Docker Engine on
> CentOS](https://docs.docker.com/engine/install/centos/)
>   * Ubuntu : [Install Docker Engine on
> Ubuntu](https://docs.docker.com/engine/install/ubuntu/)
>   * Debian : [Install Docker Engine on
> Debian](https://docs.docker.com/engine/install/debian/)
>

#### 安装 MySQL

> **开 发环境**: 推荐使用 docker-compose-dev.yml 启动该服务
>  
>  
>       base-mysql:
>         image: mysql:8.0.23
>         container_name: base-mysql
>         restart: always
>         environment:
>           MYSQL_ROOT_PASSWORD: moefon@123
>         ports:
>           - 3306:3306
>         privileged: true
>         volumes:
>           - ./data/mysql/logs:/var/log/mysql
>           - ./data/mysql/data:/var/lib/mysql
>         command:
>           --lower_case_table_names=1
>           --max_connections=1000
>           --character-set-server=utf8mb4
>           --collation-server=utf8mb4_general_ci
>           --default-authentication-plugin=mysql_native_password
>         depends_on:
>           - base-redis
>  
>
> **生 产环境**: 推荐在宿主机上安装 docker-compose-pro.yml 服务

导入 base-serve 数据库脚本文件, 升级脚本不用管 ,使用 Navicat 之类的软件即可

#### 安装 Redis

> **开 发环境**: 推荐使用 docker-compose-dev.yml 启动该服务
>  
>  
>       base-redis:
>         image: redis:5.0.4
>         container_name: base-redis
>         restart: always
>         ports:
>           - 6379:6379
>         volumes:
>           - "./data/redis:/data"
>         command:
>           redis-server --appendonly yes --requirepass "moefon@123"
>         environment:
>           - TZ=Asia/Shanghai
>  
>
> **生 产环境**: 推荐在宿主机上安装 docker-compose-pro.yml 服务

#### 安装 nacos

> **开 发环境**: 推荐使用 docker-compose-dev.yml 启动该服务
>  
>  
>       base-nacos:
>         image: nacos/nacos-server:1.4.1
>         container_name: base-nacos
>         restart: always
>         privileged: true
>         env_file:
>           - ./data/nacos/nacos-standlone-mysql.env
>         volumes:
>           - ./data/nacos/standalone-logs/:/home/nacos/logs
>           - ./data/nacos/data/:/home/nacos/data
>           - ./data/nacos/plugins/mysql/:/home/nacos/plugins/mysql/
>         environment:
>           - MODE=standalone
>           - SPRING_DATASOURCE_PLATFORM=mysql
>           - MYSQL_SERVICE_HOST=base-mysql
>           - MYSQL_SERVICE_PORT=3306
>           - MYSQL_SERVICE_DB_NAME=base_config
>           - MYSQL_SERVICE_USER=root
>           - MYSQL_SERVICE_PASSWORD=moefon@123
>         ports:
>           - 8848:8848
>         depends_on:
>           - base-mysql
>  
>
> **生 产环境**: 推荐在宿主机上安装 docker-compose-pro.yml 服务

### Hosts配置

> **说 明：** 该步骤 _仅 在本地开发电脑_ 上进行配置，如果部署生产环境无需配置

  * Windows（需要使用管理员权限）：`c:\windows\system32\drivers\etc\hosts`

  * Linux：`/etc/hosts`

  * 在 hosts 文件中添加以下内容，如果你在多台机器配置，可以将 `127.0.0.1` 替换成具体具体机器的 `IP`：

    
    
    # 本地开发环境 
    39.108.58.156 base-nacos
    39.108.58.156 base-redis
    39.108.58.156 base-mysql
    39.108.58.156 base-gateway
    39.108.58.156 base-auth
    39.108.58.156 xxl-job
    

### 启动依赖服务

> **说 明：** 该步骤会启动必要的依赖服务，建议直接在 docker-compose-dev.yml 中启动，简单快捷
>
>   * 关系型数据库 : `base-mysql`
>   * 内存数据库 : `base-redis`
>   * 服务注册中心 : `base-nacos`
>   * 服务网关中心 : `base-gateway`
>   * 权限管理中心 : `base-auth`
>

    
    
    # 0.构建公共服务
    cd ./base-serve/docker/
    ./build-and-push-docker.sh
    if [[ $? -ne 0 ]];then
        echo "=============构建base-serve失败!============="
        exit -1
    fi
    cd -
    
    # 1.构建后台服务
    cd ./power-mis/docker/
    ./build-and-push-docker.sh
    if [[ $? -ne 0 ]];then
        echo "=============构建power-mis失败!============="
        exit -1
    fi
    cd -
    
    # 2.构建前端服务
    cd ./power-mis-ui/docker/
    ./build-and-push-docker.sh
    if [[ $? -ne 0 ]];then
        echo "=============构建power-mis-ui失败!============="
        exit -1
    fi
    cd -
    
    # 3.构建公共知识库
    cd ./power-mis-doc/docker/
    ./build-and-push-docker.sh
    if [[ $? -ne 0 ]];then
        echo "=============构建power-mis-doc失败!============="
        exit -1
    fi
    cd -
    

### 导入项目到 Idea IDE 中

> **说 明**：务必使用Maven方式导入项目safety-pc

### 启动 power-mis-admin & power-mis-ui 服务

#  results matching ""

# No results matching ""

[ __](环境维护.html)

