

  * [ 前言 ](../../)
  * 物联网平台操作 
    * [ 前言 ](../../物联网平台/)
    * 快速开始 
      * [ introduction ](../../物联网平台/quick-start/introduction.html)
      * [ demo ](../../物联网平台/quick-start/demo.html)
    * 开发指南 
      * [ assets ](../../物联网平台/dev-guide/assets.html)
      * [ commons-api ](../../物联网平台/dev-guide/commons-api.html)
      * [ crud ](../../物联网平台/dev-guide/crud.html)
      * [ custom-sql-term ](../../物联网平台/dev-guide/custom-sql-term.html)
      * [ dashboard ](../../物联网平台/dev-guide/dashboard.html)
      * [ device-firmware ](../../物联网平台/dev-guide/device-firmware.html)
      * [ mqtt-subs ](../../物联网平台/dev-guide/mqtt-subs.html)
      * [ multi-tenant ](../../物联网平台/dev-guide/multi-tenant.html)
      * [ websocket-subs ](../../物联网平台/dev-guide/websocket-subs.html)
    * 最佳实践 
      * [ auto-register ](../../物联网平台/best-practices/auto-register.html)
      * [ coap-connection ](../../物联网平台/best-practices/coap-connection.html)
      * [ device-alarm ](../../物联网平台/best-practices/device-alarm.html)
      * [ device-connection ](../../物联网平台/best-practices/device-connection.html)
      * [ device-gateway-connection ](../../物联网平台/best-practices/device-gateway-connection.html)
      * [ http-connection ](../../物联网平台/best-practices/http-connection.html)
      * [ jetlinks对接其他云平台教程-HTTP方式 ](../../物联网平台/best-practices/jetlinks对接其他云平台教程-HTTP方式.html)
      * [ open-api ](../../物联网平台/best-practices/open-api.html)
      * [ sort-link ](../../物联网平台/best-practices/sort-link.html)
      * [ start ](../../物联网平台/best-practices/start.html)
      * [ tcp-connection ](../../物联网平台/best-practices/tcp-connection.html)
      * [ udp-connection ](../../物联网平台/best-practices/udp-connection.html)
    * 使用手册 
      * [ DemoDevice ](../../物联网平台/basics-guide/DemoDevice.html)
      * [ device-manager ](../../物联网平台/basics-guide/device-manager.html)
      * [ protocol-support ](../../物联网平台/basics-guide/protocol-support.html)
      * [ quick-start ](../../物联网平台/basics-guide/quick-start.html)
      * [ rule-engine ](../../物联网平台/basics-guide/rule-engine.html)
      * [ ziduanquanxian ](../../物联网平台/basics-guide/ziduanquanxian.html)
  * 萌蜂项目规范 
    * [ 前言 ](../../萌蜂项目规范/)
    * 一、开发项 
      * [ 快速开始 ](../../萌蜂项目规范/开发项/idea-start.html)
      * [ 环境维护 ](../../萌蜂项目规范/开发项/环境维护.html)
      * [ 代码管理 ](../../萌蜂项目规范/开发项/代码管理.html)
      * [ 后端开发 ](../../萌蜂项目规范/开发项/后端开发.html)
      * [ 前端开发 ](../../萌蜂项目规范/开发项/前端开发.html)
      * [ 工程专项 ](../../萌蜂项目规范/开发项/工程专项.html)
      * [ 其他规约 ](../../萌蜂项目规范/开发项/其他规约.html)
      * [ 流程管理 ](../../萌蜂项目规范/开发项/流程管理.html)
    * 二、知识点 
      * [ 安装 Centos7 ](../../萌蜂项目规范/知识点/install-centos7.html)
      * [ Centos 创建用户 ](../../萌蜂项目规范/知识点/centos-create-user.html)
      * [ Centos 安装桌面环境 ](../../萌蜂项目规范/知识点/centos-install-gnome.html)
      * [ Centos 安装KVM ](../../萌蜂项目规范/知识点/centos-install-kvm.html)
      * [ Centos 安装VNC ](../../萌蜂项目规范/知识点/centos-install-vnc.html)
      * [ Centos 安装Pip ](../../萌蜂项目规范/知识点/centos-install-pip.html)
      * [ Docker Compose ](../../萌蜂项目规范/知识点/docker-compose.html)
      * [ FFmpeg ](../../萌蜂项目规范/知识点/ffmpeg.html)
      * [ Nginx 代理 ](../../萌蜂项目规范/知识点/nginx-prefix.html)
      * [ Nginx Rtmp ](../../萌蜂项目规范/知识点/nginx-rtmp.html)
      * [ Nohup ](../../萌蜂项目规范/知识点/nohup.html)
      * [ NodeJs ](../../萌蜂项目规范/知识点/nodejs-upgrade.html)
      * [ Http Code ](../../萌蜂项目规范/知识点/http-code.html)
      * [ String.format() ](../../萌蜂项目规范/知识点/string-format.html)
  * JAVA开发规范 
    * [ 前言 ](../)
    * 一、编程规约 
      * [ （一）命名风格 ](../编程规约/命名风格.html)
      * [ （二）常量定义 ](../编程规约/常量定义.html)
      * [ （三）代码格式 ](../编程规约/代码格式.html)
      * [ （四）OOP规范 ](../编程规约/OOP规范.html)
      * [ （五）集合处理 ](../编程规约/集合处理.html)
      * [ （六）并发处理 ](../编程规约/并发处理.html)
      * [ （七）控制语句 ](../编程规约/控制语句.html)
      * [ （八）注释规约 ](../编程规约/注释规约.html)
    * 二、异常日志 
      * [ （一）异常处理 ](../异常日志/异常处理.html)
      * [ （二）日志规范 ](../异常日志/日志规约.html)
      * [ （三）其他 ](../异常日志/其他.html)
    * [ 三、单元测试 ](../单元测试.html)
    * [ 四、安全规约 ](../安全规约.html)
    * 五、MySQL数据库 
      * [ （一）建表规约 ](../MySQL数据库/建表规约.html)
      * [ （二）索引规约 ](../MySQL数据库/索引规约.html)
      * [ （三）SQL语句 ](../MySQL数据库/SQL语句.html)
      * [ （四）ORM映射 ](../MySQL数据库/ORM映射.html)
    * 六、工程结构 
      * [ （一）应用分层 ](应用分层.html)
      * [ （二）二方库依赖 ](二方库依赖.html)
      * [ （三）服务器 ](服务器.html)
    * [ 附：本手册专有名词 ](../本手册专有名词.html)
  * MIS系统操作手册 
    * [ MIS系统操作手册 ](../../用户操作手册/用户操作手册.html)
  * MIS系统环境临时记录 
    * [ MIS系统环境临时记录 ](../../MIS系统环境临时记录/组态和大屏连接地址配置.html)
  *   * [ Published with GitBook ](https://www.gitbook.com)

#  __[（二）二方库依赖](../..)

## (二) 二方库依赖

  1. 【强制】定义GAV遵从以下规则：  
1） `G`roupID格式：com.{公司/BU }.业务线.[子业务线]，最多4级。  
说明：{公司/BU} 例如：alibaba/taobao/tmall/aliexpress等BU一级；子业务线可选。  
正例：com.taobao.jstorm 或 com.alibaba.dubbo.register  
2） `A`rtifactID格式：产品线名-模块名。语义不重复不遗漏，先到中央仓库去查证一下。  
正例：dubbo-client / fastjson-api / jstorm-tool  
3） `V`ersion：详细规定参考下方。

  2. 【强制】二方库版本号命名方式：主版本号.次版本号.修订号  
1） **主 版本号**：产品方向改变，或者大规模API不兼容，或者架构不兼容升级。  
2） **次 版本号**：保持相对兼容性，增加主要功能特性，影响范围极小的API不兼容修改。  
3） **修 订号**：保持完全兼容性，修复BUG、新增次要功能特性等。  
说明：注意起始版本号必须为： _1.0.0_ ，而不是0.0.1
正式发布的类库必须先去中央仓库进行查证，使版本号有延续性，正式版本号不允许覆盖升级。如当前版本：1.3.3，那么下一个合理的版本号：1.3.4 或
1.4.0 或 2.0.0

  3. 【强制】线上应用不要依赖SNAPSHOT版本（安全包除外）。  
说明：不依赖SNAPSHOT版本是保证应用发布的幂等性。另外，也可以加快编译时的打包构建。

  4. 【强制】二方库的新增或升级，保持除功能点之外的其它jar包仲裁结果不变。如果有改变，必须明确评估和验证，建议进行`dependency:resolve`前后信息比对，如果仲裁结果完全不一致，那么通过`dependency:tree`命令，找出差异点，进行`<excludes>`排除jar包。
  5. 【强制】二方库里可以定义枚举类型，参数可以使用枚举类型，但是接口返回值不允许使用枚举类型或者包含枚举类型的POJO对象。
  6. 【强制】依赖于一个二方库群时，必须定义一个统一的版本变量，避免版本号不一致。   
说明：依赖springframework-
core,-context,-beans，它们都是同一个版本，可以定义一个变量来保存版本：${spring.version}，定义依赖的时候，引用该版本。

  7. 【强制】禁止在子项目的pom依赖中出现相同的GroupId，相同的ArtifactId，但是不同的Version。   
说明：在本地调试时会使用各子项目指定的版本号，但是合并成一个war，只能有一个版本号出现在最后的lib目录中。可能出现线下调试是正确的，发布到线上却出故障的问题。

  8. 【推荐】所有pom文件中的依赖声明放在`<dependencies>`语句块中，所有版本仲裁放在`<dependencyManagement>`语句块中。   
说明：`<dependencyManagement>`里只是声明版本，并不实现引入，因此子项目需要显式的声明依赖，version和scope都读取自父pom。而`<dependencies>`所有声明在主pom的`<dependencies>`里的依赖都会自动引入，并默认被所有的子项目继承。

  9. 【推荐】二方库不要有配置项，最低限度不要再增加配置项。
  10. 【参考】为避免应用二方库的依赖冲突问题，二方库发布者应当遵循以下原则：  
1）精简可控原则。移除一切不必要的API和依赖，只包含 Service
API、必要的领域模型对象、Utils类、常量、枚举等。如果依赖其它二方库，尽量是provided引入，让二方库使用者去依赖具体版本号；无log具体实现，只依赖日志框架。  
2）稳定可追溯原则。每个版本的变化应该被记录，二方库由谁维护，源码在哪里，都需要能方便查到。除非用户主动升级版本，否则公共二方库的行为不应该发生变化。

#  results matching ""

# No results matching ""

[ __](应用分层.html) [ __](服务器.html)

